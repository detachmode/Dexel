<!doctype html>
<html lang="en">
<head>
<title>Flow Design Theorieteil</title>
<!-- 2016-09-08 Do 16:29 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style type="text/css">
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 16px;
    line-height: 1.5;
    font-family: -apple-system, BlinkMacSystemFont,   "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    margin-bottom: 105px;
}



h1, h2, h3 {
    padding-top: 0.6em;
    padding-bottom: 0.3em;
    line-height: 1.4;
    border-bottom: #eee 1px solid;
}


h4, h5, h6 {
    line-height: 1.4;
    padding-top: 0.3em;
}

h1
{
  background-color: #322a63;
  font-size: 60px;
  padding: 24px;
  color: white;
}

h2 {
  font-size: 70px;
  margin-bottom: 1em;
  margin-top: 2.5em;
  font-variant: small-caps;
}

img {
    margin: 0 auto;
    padding: 24px;
}

.section-number-1, .section-number-2, .section-number-3, .section-number-4 {
    display: none;
}



.TODO {
    background-color: orange;
}

.FRAGEN {
    background-color: red;
}

.DRAFT {
  background-color: #337ab7;
}

.DONE {
  background-color: green;
}



footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}


pre {
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 100px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}



.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 6px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 100px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script type="text/javascript">
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-9"><h1 class="title">Flow Design Theorieteil</h1>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Entstehung und Grundgedanken</h2>
<div class="outline-text-2" id="text-1">
<p>
Flow Design ist aus der Clean Code Development Bewegung heraus entstanden. Hauptinitiatior und Erfinder ist Ralf Westphal.
Ralf Westphal war auch Mitbegründer und Miterfinder der Clean Code Developement Bewegung.
</p>


<p>
Clean Code Development ist eine Ansammlung aus Prinzipen, die einem helfen sollen wartbare Software zu schreiben.
Wartbare bedeutet Änderungen an der Software sollen leicht zu realisier sein und der Programmcode soll
am besten auch leicht zu lesen bleiben.
Prinzipien sind jedoch nicht so leicht einzuhalten, wie konkrete Regeln, welche man einfach einhalten kann.
Somit ist es in der Praxis schwer die Prinzipen auf den eigenen Code anzuwenden.
Flow Design soll in Ergänzung eine Methodik und Programmierregeln bieten, die man einfach befolgen kann und man erhält automatisch
ein Code, der die CCD Prinzipen erfüllt.
</p>

<p>
Im Hauptfokus liegen vorallem folgende Prinzipien von CCD:
</p>
<ul class="org-ul">
<li>KISS
</li>
<li>YAGNI
</li>
<li>Lose Koppelung
</li>
<li>Orthogonalität
</li>
</ul>

<p>
Weitere Prinzipien die Beachtung find sollen:
</p>
<ul class="org-ul">
<li>Separation of Concerns
</li>
<li>Single Responsibility Principle
</li>
<li>Information Hiding Principle
</li>
<li>Dependecy Injection
</li>
</ul>

<p>
Unter Flow Design versteht man zwei Dinge:
Einmal das Diagramm und einmal die Komplette Entwurfsmethode, indem das
Diagramm nur ein Teil davon ist.
</p>

<p>
Flow Design soll im Gegensatz zu UML besser geeignet sein , bereits in der Entwurfsphase Anwendung zu finden.
Ziel ist es sich auf dem Papier bereits ein Entwurf der Programmstruktur überlegen zu können.
Aktuell sei es aus der Mode gekommen, vor dem Programmieren einen Entwurf zu erzeugen, was vorallem daran läge, dass die vorhandenen
Entwurfsmethodiken eher hinderlich seien und einen unnötigen Overhead erzeugen ( laut Ralf Westphal)
Es sei somit üblich geworden die Denkearbeit, wie man seinen Code möglichst sauber strukturien kann,
während dem Programmieren direkt im/vor dem Sourcecode zu verrichten.
Dies sei jedoch laut Ralf Westphal eine eher ungünstige Lösung und behindere eher den kreativen Denkprozess mit
unnötiger Schreibarbeit.
Auf dem Papier sei man mit einer passenden Entwurfsmethodik schneller und man könne auch verschiedene Ideen schneller
ausprobieren, Änderungen machen, oder auch wieder verwerfen, als direkt im Sourcecode.
</p>

<p>
Es geht jedoch nicht darum den Sourcecode bis ins kleinste Detail in eine Art visuelle Programmiesprache zu pressen,
sondern darum, wie man den Code am sinnvollsten in Funktionseinheiten zerlegt (die einen möglichst aussagekräftigen Namen haben sollten).
Wie die Funktionalität auf unterster Ebene implementiert wird, wird auf dem Diagramm nicht berücksichtigt.
Das ist jedoch keine negative Einschränkung, vielmehr ermöglicht dies, sich auf beim Entwurf nicht mit unnötigen Implementierungsdetails bechäftigen zu
müssen, sonder sich auf das Große ganze - das Zusammenspiel/ Komposition der Funktionseinheiten und den Datenfluss zu konzentrieren.
</p>

<p>
Anzumerken wäre noch, dass nicht der Kontrollfluss abgebildet wird, sondern, wie erwähnt, der Datenfluss.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Pfeile und Kreise</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> <span class="label label-primary DRAFT">DRAFT</span> RomanNumbers Beispiel</h3>
<div class="outline-text-3" id="text-2-1">

<figure>
<p><img src="./img/FromRomanNumerals.png" class="img-responsive" alt="FromRomanNumerals.png">
</p>
</figure>

<p>
Das nachfolgende Beispiel soll an einem einfach Beispiel zeigen, was ein Flow Design Diagramm ist.
Das Programm/Unterprogramm soll eine römische Zahl in eine Dezimalzahl konvertieren.
</p>

<p>
Alle eingekreisten Namen sind Funktionseinheiten, oder auch Softwarezelle genannt.
Diese werden in den meisten Fällen im Code als Methoden implementiert.
Die Pfeile zeigen den Datenstrom. Links die Inputs und rechts die Outputs.
</p>


<p>
Der Input-Datenstrom besteht aus einem String. Dieser String wird zerlegt in einzelne Buchstaben.
Der Buchstabenstrom wird anschließend einer Funktionseinheit gegeben, die jeden Buchstaben zu der entsprächenden 
Dezimalzahl konvertiert. Anschließend muss auf den Strom noch nach eine Negationsregel angewandt werden. Diese untersucht den
Strom aus Ganzzahlen auf Stellen, wo eine kleinere Zahl vor einer größeren Zahl steht und sie in dem Fall dann negativ macht.
Am Ende wird der Datenstrom einer Funktionseinheit übergeben, die alle Zahlen aufaddiert.
Das Ergebnis ist die Summe aller Zahlen. 
</p>

<p>
Die Funktionseinheiten sind im Diagramm als Kreise dargestellt, in welchen der möglichst aussagekräftige Name steht.
Pfeile zeigen den Datenstrom, auf dem der Datentyp vermerkt ist.
Links gehen Pfeile in die Funktionseinheit hinein, das ist der eingehende Datenstrom und rechts ist der ausgehende Datenstrom.
Die Funktionseinheit wird auch als Domäne bezeichnet. Die Domäne interessiert sich nur für ihre Aufgabe und soll möglichst isoliert
betrachtet ihre Aufgabe erledigen können.
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> <span class="label label-primary MISSING_IMAGES">MISSING IMAGES</span> Hirarchische Datenflüsse</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Das Flow Design unterstützt die Funktion in eine Softwarezelle sozusagen hineinzuzoomen.
Hier erkennt man die rekusive Eigenschaft der Softwarezellen. Eine Softwarezelle kann wiederum aus mehreren Softwarezellen bestehen,
die zusammen die Aufgabe erledigen, die die übergeordnete Softwarezelle beschreibt.
</p>
</div>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Grundlegende Notationen</h2>
<div class="outline-text-2" id="text-3">
<p>
Bilder sind von: 
</p>

<p>
<a href="http://flow-design.org/overview/implementation/#How_to_implement_inputs_to_a_functional_unit">http://flow-design.org/overview/implementation/#How_to_implement_inputs_to_a_functional_unit</a>
</p>

<p>
Weitere Notationen kurz erklärt. Auch mit "Integrationen" aber noch nicht erklären, dass es ein Unterschied gibt.
Provider Dreieck.
</p>
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> <span class="label label-primary MISSING_IMAGES">MISSING IMAGES</span> Datentypen</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Eine leere Klammer bedeutet, dass keine Daten fließen.
Falls man sowohl dem Datenstrom einen Namengeben möchte, als auch den Datentyp definieren möchte, schreibt man beides mit einem
Doppelpunkt getrennt hintereinander.
</p>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> <span class="label label-primary MISSING_IMAGES">MISSING IMAGES</span> Definition eigener Datentypen</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Benutzt man einen Datenstrom bestehend aus einem eigenen Datentypen, so zeichnet man irgendwo auf dem Papier eine Box,
indem man den Datentyp mit seinen Membervariablen auflistet.
</p>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> <span class="label label-primary MISSING_IMAGES">MISSING IMAGES</span> Arrays (auch mit fester Größe)</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Werden Daten als Arrays mit fester größe übergeben, so wird hinter dem Datentyp eine leere Eckigeklammer angehängt.
Ist die Arraygröße bekannt, so kann man diese in die Klammer noch zustätzlich eintragen.
</p>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> <span class="label label-primary FRAGEN">FRAGEN</span> 0 bis n (Datenstrom)</h3>
<div class="outline-text-3" id="text-3-4">

<figure>
<p><img src="./img/diagram0n.png" class="img-responsive" alt="diagram0n.png">
</p>
</figure>

<p>
Wird als * außerhalb der Klammer dargestellt.
(int)*
Selten wird ein Datenstrom auch mit geschweiften Klammern dargestellt, um ihn von dem optionalen Output zu unterscheiden.
{int}
</p>

<p>
FRAGE: Wenn auf Container mit yield gearbeitet wird, so sind die Grenzen zum
Datenstrom verschwommen.
</p>
</div>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> <span class="label label-primary FRAGEN">FRAGEN</span> Container / Listen</h3>
<div class="outline-text-3" id="text-3-5">

<figure>
<p><img src="./img/diagramCollection.png" class="img-responsive" alt="diagramCollection.png">
</p>
</figure>

<p>
Stern innerhalb der Klammer.
Der Datentyp liegt in einem Container vor. 
Die zu bearbeitende Daten können entweder komplett auf einmal an die Funktionseinheit gegeben werden ( als Liste, Dictionary, etc. )
oder aber - falls die Programmiersprache dies unterstützt - als yield ähnlich
wie ein Stream realisert werden, wo einzelne Elemente bereits abgearbeitet werden
können, bevor alle anderen Daten erzeugt wurden.
</p>
</div>
</div>

<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> <span class="label label-primary FRAGEN">FRAGEN</span> 0 bis 1 (optionaler Output)</h3>
<div class="outline-text-3" id="text-3-6">

<figure>
<p><img src="./img/diagramOptional.png" class="img-responsive" alt="diagramOptional.png">
</p>
</figure>

<p>
Eckige Klammer
[int]
</p>

<p>
Optinale Outputs können nicht über ein Rückgabewert realisiert werden.
</p>

<p>
FRAGE: Stimmt das? Kann man nicht auch ein Datentyp verwenden, der <code>null</code> Werte zulässt?
Dann müsste jedoch wahrscheinlich die folgende Operation den Input auf null überprüfen.
</p>
</div>
</div>

<div id="outline-container-sec-3-7" class="outline-3">
<h3 id="sec-3-7"><span class="section-number-3">3.7</span> <span class="label label-primary MISSING_IMAGES">MISSING IMAGES</span> Mehrere Inputs / Outputs auf einem Weg</h3>
<div class="outline-text-3" id="text-3-7">
<p>
Mehrere Inputs werden in die Klammer geschrieben und mit einem Komma getrennt.
</p>

<p>
Mehrere Outputs lassen sich nicht in allen Sprachen einfach realiseren.
Wahlweise kann man es mit Tupel realisieren, oder man verwendet stattdessen
einen eigenen Datentyp, der alle Output-Daten beinhaltet.
</p>
</div>
</div>

<div id="outline-container-sec-3-8" class="outline-3">
<h3 id="sec-3-8"><span class="section-number-3">3.8</span> <span class="label label-default DONE">DONE</span> Joined Inputs</h3>
<div class="outline-text-3" id="text-3-8">

<figure>
<p><img src="./img/diagramJoin.png" class="img-responsive" alt="diagramJoin.png">
</p>
</figure>

<p>
Wenn die Softwarezelle nur dann ihre Aufgabe erledigen kann, wenn mehrere ihre Inputs 
vorhanden sind und diese aus unterschiedliche Quellen stammen, dann braucht man ein so genannten Join.
Dieser wird als Linie dargestellt an die mehrere Inputs zusammenlaufen.
</p>

<p>
Im Code kann dies einfach realisiert werden als eine Funktion, die mehrer Inputsparameter entgegennimmt.
</p>

<p>
Das Bündeln der Datenströme soll nicht die Funktion F erledigen, sondern ist Aufgabe einer übergeordneten Funktionseinheit.
Die Funktionseinheit F erwartet einfach 2 Parameter auf einmal und kennt deren Herkunft nicht. 
</p>
</div>
</div>

<div id="outline-container-sec-3-9" class="outline-3">
<h3 id="sec-3-9"><span class="section-number-3">3.9</span> <span class="label label-primary FRAGEN">FRAGEN</span> Tonnen</h3>
<div class="outline-text-3" id="text-3-9">
<p>
<img src="./img/diagramTonne.png" class="img-responsive" alt="diagramTonne.png">
Hat die Funkton keine Eingangsparameter, so hat sie oft stattdessen eine Tonne, die anzeigt, dass die Funktionseinheit state-behaftet ist.
</p>

<p>
Tonnen bedeuten, dass die Funktionseinheit state-behaftet ist.
In den meisten Fällen ist das eine Membervariable einer Klasse?
</p>

<p>
FRAGE: Kann State auch anders umgesetzt sein?
</p>
</div>
</div>
<div id="outline-container-sec-3-10" class="outline-3">
<h3 id="sec-3-10"><span class="section-number-3">3.10</span> <span class="label label-primary TODO">TODO</span> Anhängigkeiten / Provider</h3>
<div class="outline-text-3" id="text-3-10">
<p>
Tonnen oder Dreicke können zusätzlich noch mit einer Linie verbunden sein, an dessen Ende ein Kreis gezeichnet ist,
dann bedeutet das, dass die Funktion auf externe Resourcen zugreift / von ihr
Abhängig ist.
Den Kreis kann man sich bildlich wie eine Hand vorstellen, an die sich die
Funktion festhält, also eine Koppelung entsteht.
</p>
</div>
</div>


<div id="outline-container-sec-3-11" class="outline-3">
<h3 id="sec-3-11"><span class="section-number-3">3.11</span> <span class="label label-primary TODO">TODO</span> GUIS / Programmstart/ Ende</h3>
</div>
<div id="outline-container-sec-3-12" class="outline-3">
<h3 id="sec-3-12"><span class="section-number-3">3.12</span> <span class="label label-primary TODO">TODO</span> Klassen / Container definieren</h3>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Implementationsregeln / C# Exkurse</h2>
<div class="outline-text-2" id="text-4">
<p>
Regeln:
</p>
<ul class="org-ul">
<li>Trennen von Integrationen und Operationen
</li>
<li>keine funktionale Abhängigkeiten in Operationen zu anderen Funktionseinheiten aus dem selben Programm
fs
</li>
</ul>
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> IODA Architekur</h3>
<div class="outline-text-3" id="text-4-1">
<p>
IODA steht für: Integration Operation Data API
</p>

<figure>
<p><img src="./img/ioda1.png" class="img-responsive" alt="ioda1.png">
</p>
<figcaption><span class="figure-number">Figure 6:</span> <a href="http://blog.ralfw.de/2015/04/die-ioda-architektur.html">http://blog.ralfw.de/2015/04/die-ioda-architektur.html</a></figcaption>
</figure>
</div>

<div id="outline-container-sec-4-1-1" class="outline-4">
<h4 id="sec-4-1-1"><span class="section-number-4">4.1.1</span> <span class="label label-primary DRAFT">DRAFT</span> Erläuterung des Schaubildes</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Das Flow Design unterscheidet zwei Arten von Funktionseinheiten: Integrationen und Operationen.
Die Aufgabe einer Integration ist, die unabhängigen Operationen in das große Ganze zu
Integrieren. 
(Fußnote) Ralf Westphal spielte auch mit den Gedanken diese als Funktionseinheiten als Koordinatoren oder
Kompositionen zu bezeichnen.
</p>

<p>
Integrationen "integrieren" andere Integrationen und/oder Operationen in das Programm. Sie dürfen also funktional abhängig sein
von beiden Arten von Funktionseinheiten.
</p>

<p>
Im Gegensatz dazu dürfen Operationen keine Integrationen oder andere Operationen kennen. 
Sie dürfen aber auf Daten Zugreifen über diese entsteht auch die einzige Möglichkeit der Kommunikation zwischen Operationen.
Mit Daten sind meint man sowohl inpersitent Daten (Daten im Arbeitsspeicher), als auch persitente Daten auf der Festplatte.
Wie zum Beispiel Dateien, oder Datenbanken, wobei man beides auch zu der Gruppe API zählen könnte. 
Außerdem werden API-Aufrufe in Operationen isoliert und eine Integration darf kein Wissen über die API haben.
</p>

<p>
Sowohl Operationen als auch Integratinen dürfen Daten Erzeugen.
Beispielsweise das Aufrufen eines Konstruktors oder Deklarieren einer lokalen Variablen.
Das Koordinieren und Weiterreichen und von Daten übernimmt jedoch die Integrationen ( was auf dem Schaubild nicht so
gut herauskommt).
</p>

<p>
Anhand einer Flow Design Skizze, kann man leicht herausfinden, welche Methoden Operationen sind und welche
Integrationen.
Alle Leaf-Knoten sind Operationen, der Rest sind Integrationen.
</p>
</div>
</div>



<div id="outline-container-sec-4-1-2" class="outline-4">
<h4 id="sec-4-1-2"><span class="section-number-4">4.1.2</span> <span class="label label-primary DRAFT">DRAFT</span> PoMO ( Principle of Mutual Oblivion)</h4>
<div class="outline-text-4" id="text-4-1-2">
<blockquote>
<p>
Ein Producer kennt seinen Consumer nicht. Ein Consumer kennt seinen Producer
nicht. Das nenne ich das Principle of Mutual Oblivion (PoMO,
Prinzip der gegenseitigen Nichtbeachtung) &#x2013; architect napkin, Seite 80
</p>
</blockquote>

<p>
Dieses Prinzip besagt, dass Funktionseinheiten sich nicht gegenseitig kennen sollen.
Es soll auch verhindert werden, dass eine Einheit eine andere aufruft und von deren Ergebnis
abhängig ist, bzw. auf das Ergebnis wartet.
Eine Funktionseinheit soll, nachdem sie die Daten bearbeitet hat, sie einfach nach
außen weiter reichen und nicht wissen, wer die Daten entgegennimmt.
Dieses Prinzip verhindert eine Koppelung zwischen den einzelnen Funktionseinheiten.
</p>

<p>
Um jedoch ein "Zusammenspiel" zwischen den einzelnen entkoppelten Einheiten zu ermöglichen, bedarf es einen oder
mehrere "Koordinatoren" welche diesem Prinzip nicht entsprechen müssen.
Nur so kann aus vielen kleinen Funktionseinheiten ein großes Ganzes werden, dass eine komplexe Aufgabe lösen kann.
</p>

<p>
Die Funktionseinheiten, die das PoMO erfüllen müssen nennt Ralf Westphal Operationen und die Koordinatoren nennt er
Integrationen. Als Regel zusammengefasst nennt er dies "Integration Operation Segregation Principle" kurz IOSP.
</p>
</div>
</div>


<div id="outline-container-sec-4-1-3" class="outline-4">
<h4 id="sec-4-1-3"><span class="section-number-4">4.1.3</span> <span class="label label-primary DRAFT">DRAFT</span> IOSP ( Integration Operation Segregation Principle)</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
Dieses Prinzip besagt, dass eine Funktioneseinheit entweder eine Operation oder eine Integration ist und beide
Verantwortungsberreiche nicht vermischt werden dürfen.
</p>
</div>

<ol class="org-ol"><li><a id="sec-4-1-3-1" name="sec-4-1-3-1"></a>Operationen<br ><div class="outline-text-5" id="text-4-1-3-1">
<p>
Operationen sind Methoden, die Logik/ Kontrollstrukturen enthalten dürfen. In C# wären das:
</p>
<ul class="org-ul">
<li>if, else
</li>
<li>switch, case
</li>
<li>for, foreach,
</li>
<li>while, do
</li>
<li>try, catch, finally
</li>
<li>goto
</li>
</ul>




<p>
Gleichzeitig müssen die Operationen das PoMO prinzip erfüllen, sie dürfen keine
andere Funktionseinheiten kennen ( gemeint ist, sie über ihrer eigentlichen
Namen aufzurufen) oder auf das Ergebnis einer zu warten. 
Ein Funktionsaufruf ist nur über Actions ( Funktionspointer ), die man als Funktionsparameter mit übergibt, oder Events möglich.
Beide dürfen keine Rückgabewerte haben, was bei Actions implizit der Fall ist.
Damit erfüllt die Operation weiter das PoMO, da sie nicht selbst bestimmt, welche Funktion sie aufruft, sondern die Funktion,
welche die Operation aufgrufen hat ( und somit automatisch eine Integration sein muss, welche die PoMO Bedingung nicht erfüllen muss).
</p>


<p>
Operationen sind also imperative programmiert. Imperative Programmierung ist ein Programmierstill,
mit dem Fokus auf das <b>wie</b> ein Problem gelöst werden soll.
Im Gegensatz dazu steht der Deklarative Ansatz.
Beim deklarativen Programmieren steht der Fokus auf das <b>was</b> getan werden soll und nicht so sehr,
wie es im Detail genau angestellt wird. Ein Beispiel hierfür wären zum Beispiel SQL Befehle.
Hier wird nur gesagt, was man haben möchte und das Programm kann dann die Anfrage nochmal untersuchen
und selbst bestimmen, wie es die Anfrage am besten ausführt.
</p>
</div>
</li>

<li><a id="sec-4-1-3-2" name="sec-4-1-3-2"></a><span class="label label-primary FRAGEN">FRAGEN</span> Integrationen<br ><div class="outline-text-5" id="text-4-1-3-2">
<p>
Die Integrationen werden nach Flow Design Richtlinien deklarative programmiert.
Diese Funktioneneinheiten dürfen anders als die Operationen, andere Funktionen aufrufen, sie also kennen.
Die Integrationen erfüllen also nicht das <i>Principle of Mutual Exclusion</i>
Der Unterschied beim Flow Design ist jedoch, dass eine bewusste Trennung eingehalten wird.
</p>

<p>
Integrationen dürfen auch auf die Terminierung einer Funktion warten und den Rückgabewert  weiterreichen an andere Funktionen.
Dafür dürfen sie keine Logik im Sinne von Kontrollstrukturen beinhalten.
Auch dürfen sie keine API-spezifischen Befehle kennen, (kein Zugriff auf
persitent Daten in Integrationen /Filehandles?).
</p>

<p>
Die Businesslogik, das was die Funktionalität erzeugt, diese befinden sich in Operationen und sind entkoppelt von ihrer Umgebung.
Sie bekommen einfach nur von irgendwo her einen Input (bzw bei keinen Inputparametern einfach ausgeführt werden) und führen damit die von ihnen implementierte
Logik aus und geben das Ergebnis nach außen. Beim nach außen Reichen kennt die Funktionseinheit jedoch nicht den Empfänger.
</p>
</div>
</li></ol>
</div>

<div id="outline-container-sec-4-1-4" class="outline-4">
<h4 id="sec-4-1-4"><span class="section-number-4">4.1.4</span> <span class="label label-default DONE">DONE</span> Tabelle -  IOSP auf einen Blick</h4>
<div class="outline-text-4" id="text-4-1-4">
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">Operationen</th>
<th scope="col" class="left">Integrationen</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Rechenoperationen ( +, *, %, &#x2026; )</td>
<td class="left">Ja</td>
<td class="left">Nein</td>
</tr>

<tr>
<td class="left">Kontrollstrukturen (if, else, while, for, foreach, &#x2026;)</td>
<td class="left">Ja</td>
<td class="left">Nein</td>
</tr>

<tr>
<td class="left">try, catch</td>
<td class="left">Ja</td>
<td class="left">Nein</td>
</tr>

<tr>
<td class="left">API-Aufrufe (Methoden von Bibliotheken)</td>
<td class="left">Ja</td>
<td class="left">Nein</td>
</tr>

<tr>
<td class="left">Ressourcen-Zugriffe (Dateien, Datenbanken etc.)</td>
<td class="left">Ja</td>
<td class="left">Nein</td>
</tr>

<tr>
<td class="left">Standard Library, LINQ</td>
<td class="left">Ja</td>
<td class="left">Ja</td>
</tr>

<tr>
<td class="left">Namen andere Funktion kennen</td>
<td class="left">Nein</td>
<td class="left">Ja</td>
</tr>

<tr>
<td class="left">Auf Rückgabewert warten</td>
<td class="left">Nein</td>
<td class="left">Ja</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>



<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> <span class="label label-default DONE">DONE</span> Beispiel foreach und Funktionsaufruf als negativ Beispiel.</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">FormatAndPrintStrings</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #bc6ec5; font-weight: bold;">foreach</span><span style="color: #bc6ec5;">(</span>line <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">lines</span><span style="color: #bc6ec5;">)</span>
   <span style="color: #bc6ec5;">{</span>
      <span style="color: #ce537a; font-weight: bold;">string</span> <span style="color: #7590db;">s</span> = MyComplexFormattingFunction<span style="color: #2d9574;">(</span>line<span style="color: #2d9574;">)</span>;
      Console.WriteLine<span style="color: #2d9574;">(</span>s<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>
<p>
Derartiger Code wird wohl in den meisten C#-Codebase zufinden sein und doch ist er nach Flow Design Richtlinien falsch.
</p>

<p>
In diesem Beispiel wurde Logik (foreach) gemischt mit einem expliziten Funktionsaufruf einer Funktion.
Diese Funktion ist somit nicht IOSP konform.
</p>

<p>
Es ist etwas ungewohnt, das Trennen von Integrationen und Operationen im Code auch zu berücksichtigen.
Eine For-Schleife über eine Collection laufen zu lassen und jedes Element an eine Unterfunktion weiterzureichen ist etwas,
was wohl viele Programmierer regelmässig so schreiben.
Das soetwas nun nicht mehr erlaubt ist, braucht eine gewissen Umgewöhnungszeit.
</p>


<p>
Hier nun die Umsetzung in Flow Design mit einfachsten Mitteln.
</p>



<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">FormatAndPrintStrings</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">formattedStrings</span> = MyComplexFormattingFunction<span style="color: #bc6ec5;">(</span>lines<span style="color: #bc6ec5;">)</span>;
   PrintLines<span style="color: #bc6ec5;">(</span>formattedStrings<span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #4f97d7;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #4f97d7;">&gt;</span> <span style="color: #bc6ec5; font-weight: bold;">FormatLines</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">result</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> List<span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;()</span>;
    <span style="color: #bc6ec5; font-weight: bold;">foreach</span><span style="color: #bc6ec5;">(</span>line <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">lines</span><span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">{</span>
          <span style="color: #ce537a; font-weight: bold;">string</span> <span style="color: #7590db;">formattedstring</span>;
          <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">do complex formatting here</span>
          result.Add<span style="color: #2d9574;">(</span>formattedstring<span style="color: #2d9574;">)</span> 
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> result;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">PrintLines</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #bc6ec5; font-weight: bold;">foreach</span><span style="color: #bc6ec5;">(</span>line <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">lines</span><span style="color: #bc6ec5;">)</span>
   <span style="color: #bc6ec5;">{</span>
      Console.WriteLine<span style="color: #2d9574;">(</span>s<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>

<p>
Die Funktion wurde aufgeteilt in eine Integration (<code>FormatAndPrintStrings</code>) und zwei Operationen.
Im ersten Beispiel hat die Funktion zwei Aufgaben erfüllt, sie hat die Formatierung-Funktion integriert und 
das Ergebnis ausgegeben.
</p>

<p>
Nun sind Integration, Ausgabe und Formattierung sauber getrennt.
Jedoch wurde der Code nun deutlich länger. Die Foreach-Schleife ist in beide Operationen gelandet und das Initialisieren und
Befüllen der temporären Liste in <code>FormatLines</code> nimmt auch etwas Platz ein.
Dazu kommt noch, das die String-Formattierungslogik nun eingebettet in dieser Foreach-Schleife liegt, welche vorher getrennt in
einer extra Funktion sich befand. 
</p>

<p>
Elegantere Lösungen mit Actions
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">FormatAndPrintStrings</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   IterateOverEnumeration<span style="color: #bc6ec5;">(</span>lines, onLine=PrintFormat <span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span>  <span style="color: #bc6ec5; font-weight: bold;">PrintFormat</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">string</span> <span style="color: #7590db;">line</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #ce537a; font-weight: bold;">var</span> <span style="color: #7590db;">fl</span> = MyComplexFormattingFunction<span style="color: #bc6ec5;">(</span>line<span style="color: #bc6ec5;">)</span>;
    Console.WriteLine<span style="color: #bc6ec5;">(</span>fl<span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">IterateOverEnumeration</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span>, <span style="color: #ce537a; font-weight: bold;">Action</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">onLine</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #bc6ec5; font-weight: bold;">foreach</span><span style="color: #bc6ec5;">(</span>line <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">lines</span><span style="color: #bc6ec5;">)</span>
   <span style="color: #bc6ec5;">{</span>
      onLine<span style="color: #2d9574;">(</span>line<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>

<p>
Noch eleganter mit Actions und Lambdas
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">FormatAndPrintStrings</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
  IterateOverEnumeration<span style="color: #bc6ec5;">(</span>lines,
    line =&gt; <span style="color: #2d9574;">{</span>
      <span style="color: #ce537a; font-weight: bold;">var</span> <span style="color: #7590db;">fl</span> = MyComplexFormattingFunction<span style="color: #67b11d;">(</span>line<span style="color: #67b11d;">)</span>;
      Console.WriteLine<span style="color: #67b11d;">(</span>fl<span style="color: #67b11d;">)</span>;
  <span style="color: #2d9574;">}</span><span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">IterateOverEnumeration</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span>, <span style="color: #ce537a; font-weight: bold;">Action</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">onLine</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #bc6ec5; font-weight: bold;">foreach</span><span style="color: #bc6ec5;">(</span>line <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">lines</span><span style="color: #bc6ec5;">)</span>
   <span style="color: #bc6ec5;">{</span>
      onLine<span style="color: #2d9574;">(</span>line<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>


<p>
Elegantere Lösungen?
</p>

<p>
Es gibt zwei Möglichkeiten: Die erste Möglichkeit besteht darin, die Richtlinien etwas aufzulockern und eineKategorie "Helfer-Funktionen" einzuführen.
Diese Funktionen haben den Status von API-Funktion. Somit wäre das erste Beispiel IOSP konfrom und die Funktione <code>FormatAndPrintStrings</code>
würde als Operation gelten.
Dabei stellt sich jedoch die Frage, welche Kriterien eine Funktion erfüllen muss, damit sie unter diese Kategorie 
fällt, was sich als eine nicht ganz triviale Frage herausstellt.
</p>

<p>
Die zweite Möglichkeit besteht darin auf Datenfluss orientierte Sprachfeatures zu verwenden.
Somit hängt diese Möglichkeit stark von der verwendetet Programmiersprache ab.
</p>

<p>
In C# exisitiert eine Kategorie an Methoden, die speziell auf das arbeiten mit Datenflüssen ausgerichtet ist, diese werden 
zusammengefasst unter dem Namen LINQ (Language-Integrated Query).
</p>

<p>
Mit Hilfe von LINQ lässt sich obiges Beispiel zu einem IOSP konformen Einzeiler reduzieren.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">FormatAndPrintStrings</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   lines.Select<span style="color: #bc6ec5;">(</span> x =&gt; MyComplexFormattingFunction<span style="color: #2d9574;">(</span>x<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>.ForEach<span style="color: #bc6ec5;">(</span> x =&gt; Console.Writeline<span style="color: #2d9574;">(</span>x<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>
</pre>
</div>
<p>
Man könnte sich nun darüber streiten, was man nun damit gewonnen hat. Schließlich enthält die Funktion mit LINQ im Grunde
genommen fast nun genau die selbe Logik, wie das erste Beispiel, nur mit einer anderen Schreibweise.
Den Nutzen dieser Regel erschließt sich erst, bei größeren Codebasen und kommt bei kleinen Beispielen oft nicht zum Vorschein.
Erst wenn die Integrationen mehr mache, als nur eine Funktion aufrufen, wird das Entkopplen nützlich.
Außerdem ist der Fall einer Foreach-Schleife und ein Funktionsaufruf eine Koppelung, die nicht so dramatisch ist. Man
könnte für diesen Fall sogar eine Ausnahme machen und sie erlauben.
</p>


<p>
Zusammenfassend könnte man noch sagen, dass eine größere Lesebarkeit von IOSP komformen Programmcode entsteht, umso mehr moderne
Features eine Sprache hat (??? )
</p>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> C# Features um Datenflüsse zu implementieren</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Um nach Flow Design Regeln zu programmieren, helfen einem in C# einige Features die in diesem Kapitel vorgestellt werden.
</p>
</div>

<div id="outline-container-sec-4-3-1" class="outline-4">
<h4 id="sec-4-3-1"><span class="section-number-4">4.3.1</span> <span class="label label-primary TODO">TODO</span> LINQ und Lambdas</h4>
</div>
<div id="outline-container-sec-4-3-2" class="outline-4">
<h4 id="sec-4-3-2"><span class="section-number-4">4.3.2</span> <span class="label label-primary DRAFT">DRAFT</span> yield return</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
Hiermit kann man ein Producer-Consumer Pattern implementieren.
Vorraussetzung ist jedoch, dass man mit Daten arbeitet, die das <code>IEnumerable</code> Interface implementieren, wie zum Beispiel die
<code>List</code> Klasse.
</p>

<p>
Das folgende Flow Design soll mit <code>yield return</code> realisiert werden.
</p>


<figure>
<p><img src="./img/FlowDesign2.png" class="img-responsive" alt="FlowDesign2.png">
</p>
<figcaption><span class="figure-number">Figure 7:</span> <a href="http://www.code-whisperer.de/preview/2015/06/14/eva/">http://www.code-whisperer.de/preview/2015/06/14/eva/</a></figcaption>
</figure>


<p>
Das Programm ist eine Konsolenanwedung, die den Benutzer eine Eingabe erlaubt.
Wenn die Eingabe die Zahl 42 entspricht, wird das Programm beendet, wenn nicht,
dann wird die Zahl ausgegeben und der Benutzer kann wieder eine Zahl eingeben.
Das wiederholt sich, solange bis der Benuter die Zahl 42 eingetippt hat.
</p>
</div>


<ol class="org-ol"><li><a id="sec-4-3-2-1" name="sec-4-3-2-1"></a><span class="label label-primary FRAGEN">FRAGEN</span> Erläuterung des Schaubildes<br ><div class="outline-text-5" id="text-4-3-2-1">
<p>
Die Main Funktion wird nach dem Programmstart ( leerer Kreis ) ohne Parameter aufgerufen.
Danach ruft diese die Funktion <code>ReadNumbersFromCmd</code> auf, welche aus der Konsole eine Eingabe ließt und sie
zu einem int parset. Der int nimmt die Main Funktion entgegen und gibt diesen an FindtheAnswer weiter.
Diese Funktion hat die Aufgabe den entgegengenommenen int mit der Zahl 42 zu vergleichen. Wenn die Zahl 42 ist, wird der Datenstrom
abgebrochen. Wenn es nicht die 42 war, dann wird der int nach außen gereicht und die Main Funktion reicht die Zahl an die
PrintNumber Funktion weiter. PrintNumber gibt die Zahl in die Konsole aus.
Wenn der Datenstrom abbricht, returned die Mainfunktion und das Programm wird beendet.
FRAGE: Was bedeutet nochmal die Tonne, mit Hand?
</p>
</div>
</li>

<li><a id="sec-4-3-2-2" name="sec-4-3-2-2"></a><span class="label label-default DONE">DONE</span> Implementation<br ><div class="outline-text-5" id="text-4-3-2-2">
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Program</span>
<span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">Main</span><span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">{</span>
    <span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">int</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">numbers</span> = ReadNumbersFromCmd<span style="color: #2d9574;">()</span>;
    <span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">int</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">answer</span> = FindTheAnswer<span style="color: #2d9574;">(</span>numbers<span style="color: #2d9574;">)</span>;
    PrintNumbers<span style="color: #2d9574;">(</span>answer<span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">int</span><span style="color: #bc6ec5;">&gt;</span> ReadNumbersFromCmd<span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">while</span> <span style="color: #2d9574;">(</span><span style="color: #a45bad;">true</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">{</span>
      <span style="color: #ce537a; font-weight: bold;">var</span> <span style="color: #7590db;">line</span> = Console.ReadLine<span style="color: #67b11d;">()</span>;
      yield <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #ce537a; font-weight: bold;">int</span>.Parse<span style="color: #67b11d;">(</span>line<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">int</span><span style="color: #bc6ec5;">&gt;</span> FindTheAnswer<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">int</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">numbers</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> numbers.TakeWhile<span style="color: #2d9574;">(</span>x =&gt; x != <span style="color: #a45bad;">42</span><span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> PrintNumbers<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">IEnumerable</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">int</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">numbers</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">{</span>
    <span style="color: #bc6ec5; font-weight: bold;">foreach</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">var</span> number <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">numbers</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">{</span>
      Console.WriteLine<span style="color: #67b11d;">(</span>number<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>

<p>
Der Producer ist in dem Fall der <code>ReadNumbersFromCmd</code>.
Dieser produziert ein endloser Stream an <code>int</code>-Daten.
Es wird jedoch immer nur ein Element erzeugt und erst nachdem der Consumer das
Element abgefragt hat, wird ein neues Element erzeugt.
Wenn nichts mehr konsumiert wird, wird auch nichts mehr produziert.
Den Abbruch der Endlossschleife ( also das Stoppen des Datenflusses) kann somit auch eine andere Funktion außerhalb der Schleife
übernehmen.
</p>
</div>
</li></ol>
</div>
</div>




<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> <span class="label label-primary FRAGEN">FRAGEN</span> Datenströme mit mehreren Wegen</h3>
<div class="outline-text-3" id="text-4-4">
</div><div id="outline-container-sec-4-4-1" class="outline-4">
<h4 id="sec-4-4-1"><span class="section-number-4">4.4.1</span> Ein Output-Weg mehrer Empfänger</h4>
<div class="outline-text-4" id="text-4-4-1">

<figure>
<p><img src="./img/diagramOut1to2.png" class="img-responsive" alt="diagramOut1to2.png">
</p>
</figure>

<p>
Falls ein Output an mehrere Empfänger weitergereicht werden soll, so lässt sich das am besten mit Events realisieren.
Leider bedarf es dann bei der Benutzung der API mehr Vorsicht, da man sich vorher auf ein Events registrieren muss, bevor man
die gewünschte Funktion aufrufen kann.
Alternativ kann auch die übergeordnete Integration den Rückgabewert an die
anderen Beiden weiterreichen, oder über Actions (FRAGE: Liste aus Actions
übergeben?).
</p>
</div>
</div>

<div id="outline-container-sec-4-4-2" class="outline-4">
<h4 id="sec-4-4-2"><span class="section-number-4">4.4.2</span> <span class="label label-primary DRAFT">DRAFT</span> Mehrere Output-Wege</h4>
<div class="outline-text-4" id="text-4-4-2">

<figure>
<p><img src="./img/diagramOut2.png" class="img-responsive" alt="diagramOut2.png">
</p>
</figure>

<p>
Wenn eine Funktion mehrer Output-Wege hat, so kann man das im Code nicht mehr mit einem einfachen Rückgabewert implementieren.
Wäre es für eine Operation erlaubt eine andere Funktionseinheit zu kennen, dann könnten wir natürlich einfach in der Operation selbst
die nachfolgenden Methoden per Namen aufrufen. Da aber Operationen entkoppelt von ihrer Umwelt sein sollen, müssen die möglichen
Outputwege über die Argumente der Methode mitgegeben werden. Somit werden die Verantwortlichkeiten bewahrt und die übergeordnete 
Integration koordiniert weiter den Datenfluss und die Operation kennt keine anderen Funktionseinheiten.
</p>

<p>
Alternativ könnte man auch hier Events nutzen, was aber durch das zusätzliche
Registerien auf das Event eher nicht zu empfehlen ist, wenn absehbar ist, dass
nicht mehrere Funktonseinheiten gleichzeitig das Ergebnis empfangen sollen.
</p>
</div>
</div>

<div id="outline-container-sec-4-4-3" class="outline-4">
<h4 id="sec-4-4-3"><span class="section-number-4">4.4.3</span> <span class="label label-primary FRAGEN">FRAGEN</span> mit und/oder den Kontrollfluss notieren.</h4>
<div class="outline-text-4" id="text-4-4-3">
<p>
Wenn man möchte, so kann man den Kontrollfluss, auch in das Diagramm hier mit
reinnehmen. Man kann in den Winkel der beiden Pfeile notierem, ob beide
Datenflüsse fließen, oder immer nur einer 
</p>

<p>
FRAGE; 
</p>
<ol class="org-ol">
<li>XOR , OR ,&#x2026;
</li>
<li>Kann man eine implementationsregel davon ableiten?
Wenn ich ein UND habe, dann kann der Strom als Tupel/Datentyp realisiert
werden. Dann muss die Integration einfach nur den ersten Teil an die eine
Methode weiterreichen und den zweiten Teil an die andere.
Wenn es es ODER ist, dann sind gelten ähnliche Regeln, wie für Optionale
Outpute.
Ich muss eine Action mitgeben. (Oder Datentypen, die null sein dürfen?)
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> Weitere Beispiele was erlaubt ist und was nicht erlaubt ist.</h3>
<div class="outline-text-3" id="text-4-5">
</div><div id="outline-container-sec-4-5-1" class="outline-4">
<h4 id="sec-4-5-1"><span class="section-number-4">4.5.1</span> <span class="label label-default DONE">DONE</span> Rückgabewert erwarten von Funktion als Parameter übergeben.</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
In C# gibt es neben den <code>Actions</code>, die keine Rückgabewerte erlauben, auch Funktionspointer, die einen Rückgabewert erlauben. 
Diese werden mit <code>Func&lt;Rückgabewert,Parameter,...&gt;</code> deklariert.
Die Func würde zwar das IOSP erfüllen, die Operation würde die andere Funktion nicht kennen,
jedoch würde trotzdem eine funktionale Abhängigkeiten entstehen und somit ist die untenstehende Funktion nicht Flow Design konform.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #4f97d7;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #4f97d7;">&gt;</span> <span style="color: #bc6ec5; font-weight: bold;">FormatStrings</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">lines</span> , <span style="color: #ce537a; font-weight: bold;">Func</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span>,<span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">formatFunc</span> <span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">result</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> List<span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">string</span><span style="color: #bc6ec5;">&gt;()</span>;
   <span style="color: #bc6ec5; font-weight: bold;">foreach</span><span style="color: #bc6ec5;">(</span>line <span style="color: #ce537a; font-weight: bold;">in</span> <span style="color: #7590db;">lines</span><span style="color: #bc6ec5;">)</span>
   <span style="color: #bc6ec5;">{</span>
      <span style="color: #ce537a; font-weight: bold;">string</span> <span style="color: #7590db;">formattedstring</span> = formatFunc<span style="color: #2d9574;">(</span>line<span style="color: #2d9574;">)</span>;
      result.Add<span style="color: #2d9574;">(</span>formattedstring<span style="color: #2d9574;">)</span> 
   <span style="color: #bc6ec5;">}</span>
   <span style="color: #4f97d7; font-weight: bold;">return</span> result;
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-4-5-2" class="outline-4">
<h4 id="sec-4-5-2"><span class="section-number-4">4.5.2</span> <span class="label label-primary TODO">TODO</span> API-Aufruf, Filehandling?, Daten in Integrationen?</h4>
</div>
</div>
<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><span class="section-number-3">4.6</span> <span class="label label-primary TODO">TODO</span> Warum macht man das? Sinn der Aufteilung.</h3>
<div class="outline-text-3" id="text-4-6">
<ul class="org-ul">
<li>Ketten Bild
</li>
<li>nochmal rückbesinnen auf CCD
</li>
<li>Größtes übel funktionale Abhängigkeiten. Wenn jemand seine Arbeit erst zuende machen kann, wenn ein anderer seine Arbeit getan hat.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7"><span class="section-number-3">4.7</span> <span class="label label-primary DRAFT">DRAFT</span> Ausnahmen</h3>
<div class="outline-text-3" id="text-4-7">
</div><div id="outline-container-sec-4-7-1" class="outline-4">
<h4 id="sec-4-7-1"><span class="section-number-4">4.7.1</span> <span class="label label-primary TODO">TODO</span> Rekursion</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
Operationen dürfen sich selber aufrufen.
</p>
</div>
</div>
<div id="outline-container-sec-4-7-2" class="outline-4">
<h4 id="sec-4-7-2"><span class="section-number-4">4.7.2</span> <span class="label label-default DONE">DONE</span> Integrationen</h4>
<div class="outline-text-4" id="text-4-7-2">
</div>

<ol class="org-ol"><li><a id="sec-4-7-2-1" name="sec-4-7-2-1"></a><span class="label label-default DONE">DONE</span> LINQ / Standard-Library Funktionen<br ><div class="outline-text-5" id="text-4-7-2-1">
<p>
Manche Funktionalitäten, die die Sprache selbst bereitstellt, können streng genommen als API-Aufrufe bezeichnet werden
. Jedoch gilt hier eine Ausnahme. Man darf auch in Integrationen diese Funktionalität verwenden.
Beispiele aus C#:
<code>int.TryParse</code> , <code>List&lt;&gt;.Sort</code>, <code>Dictionary&lt;&gt;.Insert</code>, &#x2026;
</p>
</div>
</li>

<li><a id="sec-4-7-2-2" name="sec-4-7-2-2"></a><span class="label label-default DONE">DONE</span> Try / Catch<br ><div class="outline-text-5" id="text-4-7-2-2">
<p>
Oft braucht man auf oberster Ebene, einen Try/Catch, der alle Exceptions abfangen soll, und eine generelle Fehlerbehandlungsroutine
startet. Hier bleibt einem nichts anderes übrig, als die Regel keine Logik in den Integrationen zu haben, etwas aufzuweichen.
</p>
</div>
</li></ol>
</div>
</div>


<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8"><span class="section-number-3">4.8</span> <span class="label label-primary FRAGEN">FRAGEN</span> KNOWNCAUSE Zusammenfassung - IODA Architekur -  Tabelle</h3>
<div class="outline-text-3" id="text-4-8">
<p>
Tabelle:
Daten - Methoden in Daten-Objekte aufrufen? Darf Operation die Methode kennen?
Daten - was bedeutet die eigentlich? Methoden die zum Datentyp
gehören/gekaspelt sind, sind die in Operationen erlaubt? file open handlers?
Daten - Darf Integration wirklich Kontruktor aufrufen, das sind doch daten, oder gelten nur persistente daten?
</p>
</div>
</div>
</div>



<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Ablauf der kompletten Flow Design - Entwurfsmethode</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> <span class="label label-primary TODO">TODO</span> Definieren der Portale und Provider</h3>
<div class="outline-text-3" id="text-5-1">
<p>
    Man zeichnet ein Kreis auf ein Papier, diese stellt die Domäne dar.
    Auf der linken Seite hängt man die Sachen dran, die auf die Domände zugreifen so gegannte Portale, zum Beispiel HTTP-Zugriff,
    Batch mode, oder GUIs.
    Auf der anderen Seite sind die Provider, diese Stellen externe Resourcen zur Verfügung, die die Domäne verwendet.
    Ziel ist es später in der Implementierung darauf zu achten, dass die "Schicht" oder "Membran", zwischen Domäne und Außenwelt möglichst
dünn bleibt. Somit lässt sich die Domäne besser testen und es lassen sich leichter neue Portale und Provider anhängen.
</p>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> <span class="label label-primary TODO">TODO</span> Interfaceskizze ( im Falle einer GUI Anwendung )</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Man zeichnet eine einfache Skizze der GUI auf ein Papier und überlegt sich, welche Interaktionen kann der Nutzer machen.
Diese Interaktionen werden dann gesammelt und für jedes wird dann ein eigenes Flow Design erstellt.
</p>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> <span class="label label-primary TODO">TODO</span> Flow Design Entwurf</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Herauskristallisieren der einzelnen Funktionseinheiten und welche Daten von wo nach wo fließen.
</p>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> <span class="label label-primary FRAGEN">FRAGEN</span> Einordnen der Funktionseinheiten in bestimmte Container</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Mit Container meint man: Klassen, DLL, Anwendungen.
Man fasst eine oder mehere Funktionseinheiten zusammen, indem mag zum Beispiel alle mit einer gestrichelten Linie einkreist oder alle die zur selben Klasse
gehören farblich markiert. Der Name der Klasse notiert man dann im eingekreisten Feld oder unter jeden Funktionseinheit.
  endet mit Einteilen in Klassen, DLL, Anwendungen,&#x2026;
</p>

<p>
Entwurf ist ein Interativer Prozess, somit wäre round trip super "Sinn des Systems SharpFlowDesign erläutern"
</p>

<p>
1)FRAGE: Manchmal wird eine Funktionseinheit selbst als Klasse implementiert? Dann kann ich sie ja nicht in eine andere Klasse schieben.
</p>
</div>
</div>

<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5"><span class="section-number-3">5.5</span> <span class="label label-primary FRAGEN">FRAGEN</span> Optional - Bestimmen von Parallelitäten</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Es können zusätzlich noch Pfeile eingefärbt werden, um zu verdeutlichen, dass
manche Datenströme parallel laufen können.
FRAGE: Wie genau geht das?
</p>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> <span class="label label-primary TODO">TODO</span> Rekursive Eigenschaft der Softwarezellen/ Architekur</h2>
<div class="outline-text-2" id="text-6">
<p>
Das Schöne an Flow Design und dem Konzept der Softwarezelle ist, dass sie rekusive ist.
Man kann das Problem/die Andwendugn ganz oben als eine Softwarezelle (oder hier der Kreis mit den Providern? ist das auch eine Softwarezelle?)
verstehen, indem links Portale Zugriffe machen und rechts davon, die Softwarezelle wiederum auf ihre Provider Zugriffe macht.
Die einzelnen Aktionen aus dem die Andwendung besteht können wiederrum als Softwarezellen verstanden werden, auf die von links 
der Zugriff und der Input in die Softwarezelle hineinkommen, die Softwarezelle bearbeitet die Anfrage und rechts von ihr, kommt das
Ergebnis heraus. Die Interaktion kann wiederum wieder in kleiner Teile zerlegt werden, die alle eine Softwarezelle sind, mit Inputs und
Outputs. Damit ist die Architektur weniger starr, als zum Beispiel das Schichtenmodell oder das Zwiebelschalenmodell ( laut Ralf Westphal ). 
</p>
</div>
</div>



<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Backlog</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Einfaches Beispiel eines Flow Designs</h3>
<div class="outline-text-3" id="text-7-1">
</div><div id="outline-container-sec-7-1-1" class="outline-4">
<h4 id="sec-7-1-1"><span class="section-number-4">7.1.1</span> Negativ Beispiel</h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">

<pre class="src src-cpp">...
<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> Main<span style="color: #4f97d7;">()</span>
<span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">while</span> <span style="color: #bc6ec5;">(</span><span style="color: #a45bad;">true</span><span style="color: #bc6ec5;">)</span>
   <span style="color: #bc6ec5;">{</span>
      <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">number</span> = ReadNumberFromCmd<span style="color: #2d9574;">()</span>;
      <span style="color: #ce537a; font-weight: bold;">bool</span> <span style="color: #7590db;">isAnswer</span> = FindTheAnswer<span style="color: #2d9574;">(</span>number<span style="color: #2d9574;">)</span>;

      <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>isAnswer<span style="color: #2d9574;">)</span>
         <span style="color: #4f97d7; font-weight: bold;">break</span>;
      <span style="color: #4f97d7; font-weight: bold;">else</span>
         PrintNumber<span style="color: #2d9574;">(</span>number<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #bc6ec5; font-weight: bold;">ReadNumbersFromCmd</span><span style="color: #4f97d7;">()</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #ce537a; font-weight: bold;">var</span> <span style="color: #7590db;">line</span> = Console.ReadLine<span style="color: #bc6ec5;">()</span>;
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">number</span> = <span style="color: #ce537a; font-weight: bold;">int</span>.Parse<span style="color: #bc6ec5;">(</span>line<span style="color: #bc6ec5;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">return</span> number;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">bool</span> <span style="color: #bc6ec5; font-weight: bold;">FindtheAnswer</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">number</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">{</span> 
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #bc6ec5;">(</span>number == <span style="color: #a45bad;">42</span><span style="color: #bc6ec5;">)</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">true</span>;
    <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">false</span>;
<span style="color: #4f97d7;">}</span>
...
</pre>
</div>
</div>
</div>
</div>
</div>
</div><div class="col-md-3"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Entstehung und Grundgedanken</a></li>
<li><a href="#sec-2">2. Pfeile und Kreise</a>
<ul class="nav">
<li><a href="#sec-2-1">2.1. RomanNumbers Beispiel</a></li>
<li><a href="#sec-2-2">2.2. Hirarchische Datenflüsse</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Grundlegende Notationen</a>
<ul class="nav">
<li><a href="#sec-3-1">3.1. Datentypen</a></li>
<li><a href="#sec-3-2">3.2. Definition eigener Datentypen</a></li>
<li><a href="#sec-3-3">3.3. Arrays (auch mit fester Größe)</a></li>
<li><a href="#sec-3-4">3.4. 0 bis n (Datenstrom)</a></li>
<li><a href="#sec-3-5">3.5. Container / Listen</a></li>
<li><a href="#sec-3-6">3.6. 0 bis 1 (optionaler Output)</a></li>
<li><a href="#sec-3-7">3.7. Mehrere Inputs / Outputs auf einem Weg</a></li>
<li><a href="#sec-3-8">3.8. Joined Inputs</a></li>
<li><a href="#sec-3-9">3.9. Tonnen</a></li>
<li><a href="#sec-3-10">3.10. Anhängigkeiten / Provider</a></li>
<li><a href="#sec-3-11">3.11. GUIS / Programmstart/ Ende</a></li>
<li><a href="#sec-3-12">3.12. Klassen / Container definieren</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Implementationsregeln / C# Exkurse</a>
<ul class="nav">
<li><a href="#sec-4-1">4.1. IODA Architekur</a></li>
<li><a href="#sec-4-2">4.2. Beispiel foreach und Funktionsaufruf als negativ Beispiel.</a></li>
<li><a href="#sec-4-3">4.3. C# Features um Datenflüsse zu implementieren</a></li>
<li><a href="#sec-4-4">4.4. Datenströme mit mehreren Wegen</a></li>
<li><a href="#sec-4-5">4.5. Weitere Beispiele was erlaubt ist und was nicht erlaubt ist.</a></li>
<li><a href="#sec-4-6">4.6. Warum macht man das? Sinn der Aufteilung.</a></li>
<li><a href="#sec-4-7">4.7. Ausnahmen</a></li>
<li><a href="#sec-4-8">4.8. KNOWNCAUSE Zusammenfassung - IODA Architekur -  Tabelle</a></li>
</ul>
</li>
<li><a href="#sec-5">5. Ablauf der kompletten Flow Design - Entwurfsmethode</a>
<ul class="nav">
<li><a href="#sec-5-1">5.1. Definieren der Portale und Provider</a></li>
<li><a href="#sec-5-2">5.2. Interfaceskizze ( im Falle einer GUI Anwendung )</a></li>
<li><a href="#sec-5-3">5.3. Flow Design Entwurf</a></li>
<li><a href="#sec-5-4">5.4. Einordnen der Funktionseinheiten in bestimmte Container</a></li>
<li><a href="#sec-5-5">5.5. Optional - Bestimmen von Parallelitäten</a></li>
</ul>
</li>
<li><a href="#sec-6">6. Rekursive Eigenschaft der Softwarezellen/ Architekur</a></li>
<li><a href="#sec-7">7. Backlog</a>
<ul class="nav">
<li><a href="#sec-7-1">7.1. Einfaches Beispiel eines Flow Designs</a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div></div></div>
<footer id="postamble" class="">
<div><p class="date">Created: 2016-09-08 Do 16:29</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.1.1 (<a href="http://orgmode.org">Org-mode</a> 8.3.5)</p>
</div>
</footer>
</body>
</html>
